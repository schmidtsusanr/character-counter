<!DOCTYPE html>
<html lang="en">
<head>
  <link type="text/css" rel="stylesheet" href="index.css"/>
  <link href='https://fonts.googleapis.com/css?family=Rye' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=IM+Fell+DW+Pica' rel='stylesheet' type='text/css'>

  <link href='https://fonts.googleapis.com/css?family=Fredericka+the+Great' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Crimson+Text' rel='stylesheet' type='text/css'>
  <title>Elana's Character Counter</title>
  <meta charset="utf-8">
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js">
</script>
<![endif]-->

</head>
<body>
<h1>Elana's Character Counter</h1>
<section>
  <p>This is a simple character counter created for my friend <a href="http://fontlovestudio.com/about/">Elana</a>, a phenomenal letterpress printer. Type or paste a selection of text, then click the "Count" button to see how often each character entered is used!</p> 

</section>
<form>
  <textarea id="submission" name="text" rows="10" cols="30"></textarea>
</form>
<br><br>
<button onclick="counter()">Count</button>

<p id="counter_result"></p>

<script>
function counter(){
  var string = document.getElementById("submission").value;
  var stringMinusSpaces =  string.replace(/ /g,"");
  var finalArray = ['Total characters (minus spaces): ' + stringMinusSpaces.length];
  var textArray = stringMinusSpaces.split("").sort();
  var current = null;
  var cnt = 0;
  for (var i = 0; i < textArray.length; i++) {
    if (textArray[i] != current) {
      if (cnt > 0) {
        finalArray.push(current + ' : ' + cnt);
            }
            current = textArray[i];
            cnt = 1;
        } else {
            cnt++;
        }
    }
      if (cnt > 0) {
        finalArray.push(current + ' : ' + cnt);
    }
  document.getElementById("counter_result").innerHTML = finalArray.join("<br />");
};
</script>

</body>
</html>