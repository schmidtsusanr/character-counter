<!DOCTYPE html>
<html lang="en">
<head>
  <link type="text/css" rel="stylesheet" href="index.css"/>
  <link href='https://fonts.googleapis.com/css?family=Fredericka+the+Great' rel='stylesheet' type='text/css'>

  <link href='https://fonts.googleapis.com/css?family=Josefin+Sans' rel='stylesheet' type='text/css'>
  <title>Elana's Character Counter</title>
  <meta charset="utf-8">
<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js">
</script>
<![endif]-->

</head>
<body>
  <div class="title">
    <h1>Elana's Character Counter</h1>
  </div>
<section class="content">
  <div class="description">
  <p>This is a simple character counter created for my friend <a href="http://fontlovestudio.com/about/" target="_blank">Elana</a>, a phenomenal letterpress printer. Type or paste a selection of text into the form below, then click the "Count" button to see how often each character is used!</p> 
</div>
<div id="form">
<form>
  <textarea id="submission" name="text" rows="15" cols="80"></textarea>
</form>
</div>
<br><br>
<div class="form-actions">
<button id="count-button" onclick="counter()">Count</button>
</div>
<div class="form-actions">
<button id="reset-button" onclick="reset()">~reset~</button>
</div>
<p id="counter_result"></p>
</div>
<script>
function counter(){
  var string = document.getElementById("submission").value;
  var stringMinusNewLines = string.replace(/\r?\n|\r/g,"");
  var stringMinusSpaces =  stringMinusNewLines.replace(/ /g,"");
  var finalArray = ['Total characters (minus spaces): ' + stringMinusSpaces.length];
  var textArray = stringMinusSpaces.split("").sort();
  var current = null;
  var cnt = 0;
  for (var i = 0; i < textArray.length; i++) {
    if (textArray[i] != current) {
      if (cnt > 0) {
        finalArray.push(current + ' : ' + cnt);
            }
            current = textArray[i];
            cnt = 1;
        } else {
            cnt++;
        }
    }
      if (cnt > 0) {
        finalArray.push(current + ' : ' + cnt);
    }
  document.getElementById("counter_result").innerHTML = finalArray.join("<br />");
  
};

function reset(){
  document.getElementById('submission').value='';
  document.getElementById('counter_result').innerHTML='';
};
</script>
// <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">

//   // $("#count-button").click(function() {
//   //     $('html,body').animate({
//   //         scrollTop: $("#form").offset().top},
//   //         'fast');
//   // });

//   function scrollToDiv(divid){
//   var divName = $("div[id='"+ divid +"']");
//   $('html,body').animate({scrollTop: divName.offset().top},'fast');
// }
//   $("#count-button").click(function() {
//    scrollToDiv('form');
// });
// </script>
</section>
</body>
</html>